(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),s=(t(19),t(2)),u=t(3),l=t.n(u),i=function(){return console.log(l.a.get("https://immense-harbor-69467.herokuapp.com/api/persons")),l.a.get("https://immense-harbor-69467.herokuapp.com/api/persons")},m=function(e){l.a.delete("https://immense-harbor-69467.herokuapp.com/api/persons/".concat(e))},p=function(e){var n=e.newPersonObject;return l.a.post("https://immense-harbor-69467.herokuapp.com/api/persons",n)},d=function(e){var n=e.changedPerson;return l.a.put("https://immense-harbor-69467.herokuapp.com/api/persons/".concat(n.id),n)},h=function(e){var n=e.persons,t=e.setPersons,a=e.newName,o=e.setNewName,c=e.newNumber,s=e.setNewNumber,u=e.setMessage,l=e.setErrorMessage;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("button clicked");var r={name:a,number:c},i=n.find((function(e){return e.name===a}));i?window.confirm("".concat(a," is already added to the phonebook, replace the old number with new one?"))&&(i.number=c,console.log(i),d({changedPerson:i}).then(t(n.map((function(e){return e.id!==i.id?e:i})))).catch((function(e){l("".concat(a," has already been removed from the server")),setTimeout((function(){l(null)}),3e3)})),o(""),s("")):(p({newPersonObject:r}).then((function(e){t(n.concat(e.data)),console.log(e.data),o(""),s(""),console.log(n),console.log(e)})),u("added ".concat(a)),setTimeout((function(){u(null)}),3e3))}},r.a.createElement("div",null," name: ",r.a.createElement("input",{value:a,onChange:function(e){o(e.target.value)}})," "),r.a.createElement("div",null," Number: ",r.a.createElement("input",{value:c,onChange:function(e){s(e.target.value)}})," "),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n=e.persons,t=e.setNewSearch;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",null,"search:",r.a.createElement("input",{onChange:function(e){t(n.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())})))}})))},b=function(e){var n=e.person,t=e.setPersons,a=e.persons;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){console.log("button clicked",n),window.confirm("delete ".concat(n.name,"?"))&&(m(n.id),t(a.filter((function(e){return e.id!==n.id}))))}},"delete"))},E=function(e){var n=e.persons,t=e.setPersons,a=n.map((function(e){return r.a.createElement("li",{key:e.id},e.name," ",e.number," ",r.a.createElement(b,{person:e,setPersons:t,persons:n}))}));return r.a.createElement("div",null,a)},v=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"success"},n)},g=function(e){var n=e.errorMessage;return null===n?null:r.a.createElement("div",{className:"error"},n)},w=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),u=Object(s.a)(c,2),l=u[0],m=u[1],p=Object(a.useState)(""),d=Object(s.a)(p,2),b=d[0],w=d[1],N=Object(a.useState)([]),j=Object(s.a)(N,2),O=j[0],k=j[1],S=Object(a.useState)(null),P=Object(s.a)(S,2),M=P[0],y=P[1],C=Object(a.useState)(null),B=Object(s.a)(C,2),D=B[0],J=B[1];return Object(a.useEffect)((function(){i().then((function(e){o(e.data)}))}),[]),Object(a.useEffect)((function(){k(t)}),[t]),r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{errorMessage:M})," ",r.a.createElement(v,{message:D}),r.a.createElement(f,{persons:t,setNewSearch:k}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(h,{persons:t,setPersons:o,newName:l,setNewName:m,newNumber:b,setNewNumber:w,setMessage:J,setErrorMessage:y}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(E,{persons:O,setPersons:o,setNewSearch:k}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.f6e7abca.chunk.js.map